2025-07-22 00:04:47,913 - gcsBot - INFO - Logger configurado para o modo: ''. Logs de console a partir do nÃ­vel INFO.
2025-07-22 00:04:47,986 - gcsBot - INFO - --- MODO: OTIMIZAÃ‡ÃƒO WALK-FORWARD ---
2025-07-22 00:04:47,986 - gcsBot - INFO - Iniciando o processo de otimizaÃ§Ã£o para encontrar os melhores parÃ¢metros...
2025-07-22 00:04:50,236 - gcsBot - INFO - Cliente Binance inicializado em modo REAL. ConexÃ£o com a API confirmada.
2025-07-22 00:04:50,237 - gcsBot - INFO - Iniciando processo de unificaÃ§Ã£o de dados.
2025-07-22 00:04:50,237 - gcsBot - INFO - Iniciando verificaÃ§Ã£o e atualizaÃ§Ã£o dos dados macro...
2025-07-22 00:04:50,246 - gcsBot - INFO - Table 'macro_dxy' created successfully.
2025-07-22 00:04:50,247 - gcsBot - INFO - Dados macro para 'dxy' jÃ¡ estÃ£o atualizados.
2025-07-22 00:04:50,249 - gcsBot - INFO - Table 'macro_gold' created successfully.
2025-07-22 00:04:50,250 - gcsBot - INFO - Dados macro para 'gold' jÃ¡ estÃ£o atualizados.
2025-07-22 00:04:50,251 - gcsBot - INFO - Table 'macro_tnx' created successfully.
2025-07-22 00:04:50,252 - gcsBot - INFO - Dados macro para 'tnx' jÃ¡ estÃ£o atualizados.
2025-07-22 00:04:50,253 - gcsBot - INFO - Table 'macro_vix' created successfully.
2025-07-22 00:04:50,254 - gcsBot - INFO - Dados macro para 'vix' jÃ¡ estÃ£o atualizados.
2025-07-22 00:04:50,254 - gcsBot - DEBUG - VerificaÃ§Ã£o de dados macro concluÃ­da.
2025-07-22 00:04:50,254 - gcsBot - INFO - Iniciando verificaÃ§Ã£o e atualizaÃ§Ã£o do sentimento do Twitter...
2025-07-22 00:04:50,265 - gcsBot - INFO - Table 'twitter_sentiment' created successfully.
2025-07-22 00:04:50,278 - gcsBot - INFO - Dataframe inserted into 'twitter_sentiment' successfully.
2025-07-22 00:04:50,278 - gcsBot - DEBUG - VerificaÃ§Ã£o do sentimento do Twitter concluÃ­da.
2025-07-22 00:04:50,279 - gcsBot - INFO - Table 'btc_btc_usdt_1m' created successfully.
2025-07-22 00:04:52,214 - gcsBot - INFO - Dados do BTC no banco de dados estÃ£o desatualizados. Buscando novos dados da Binance...
2025-07-22 00:04:52,996 - gcsBot - INFO - Dataframe inserted into 'btc_btc_usdt_1m' successfully.
2025-07-22 00:04:53,039 - gcsBot - INFO - SUCESSO: Banco de dados do BTC atualizado com 7 novas velas.
2025-07-22 00:04:53,040 - gcsBot - DEBUG - Padronizando e unificando dados macro do banco de dados...
2025-07-22 00:04:53,067 - gcsBot - DEBUG - Dados macro do banco de dados unificados com sucesso.
2025-07-22 00:04:53,159 - gcsBot - INFO - Iniciando preparaÃ§Ã£o de todas as features e indicadores tÃ©cnicos...
2025-07-22 00:05:04,092 - gcsBot - DEBUG - Calculando suÃ­te de correlaÃ§Ãµes macro (BTC vs DXY, BTC vs VIX)...
2025-07-22 00:05:04,189 - gcsBot - DEBUG - CÃ¡lculo bruto das features concluÃ­do.
2025-07-22 00:05:04,190 - gcsBot - INFO - Calculando regimes de mercado (Camada 2: TendÃªncia + Volatilidade)...
2025-07-22 00:05:04,248 - gcsBot - DEBUG - Regimes de mercado calculados.
2025-07-22 00:05:04,424 - gcsBot - INFO - Clustering data into 10 market situations...
2025-07-22 00:05:09,622 - gcsBot - INFO - Clustering complete.
2025-07-22 00:05:09,625 - gcsBot - INFO - Calculando features de interaÃ§Ã£o (Camada 3: TÃ¡tica AvanÃ§ada)...
2025-07-22 00:05:09,887 - gcsBot - INFO - Filtrando dados de 2017 em diante e tratando valores ausentes/infinitos...
2025-07-22 00:05:10,051 - gcsBot - INFO - Aplicando shift(1) nas features para evitar lookahead bias...
2025-07-22 00:05:10,404 - gcsBot - DEBUG - Otimizando uso de memÃ³ria do DataFrame...
2025-07-22 00:05:10,526 - gcsBot - DEBUG - OtimizaÃ§Ã£o de memÃ³ria concluÃ­da.
2025-07-22 00:05:10,527 - gcsBot - INFO - Processo de coleta e preparaÃ§Ã£o de dados concluÃ­do com sucesso.
2025-07-22 00:05:10,530 - gcsBot - INFO - 
================================================================================
--- ğŸš€ INICIANDO PROCESSO DE OTIMIZAÃ‡ÃƒO (V9.0) ğŸš€ ---
================================================================================
2025-07-22 00:05:10,530 - gcsBot - INFO - Training base model...
2025-07-22 00:05:11,147 - gcsBot - INFO - Treinando modelo com 34 features.
2025-07-22 00:05:11,151 - gcsBot - INFO - 
--- DistribuiÃ§Ã£o dos Labels no Treino ---
â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ    â”ƒ   Label â”ƒ   FrequÃªncia â”ƒ
â”£â”â”â”â”â•‹â”â”â”â”â”â”â”â”â”â•‹â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”«
â”ƒ  0 â”ƒ       0 â”ƒ     0.515023 â”ƒ
â”£â”â”â”â”â•‹â”â”â”â”â”â”â”â”â”â•‹â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”«
â”ƒ  1 â”ƒ       1 â”ƒ     0.484977 â”ƒ
â”—â”â”â”â”â”»â”â”â”â”â”â”â”â”â”â”»â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
2025-07-22 00:05:21,364 - gcsBot - INFO - Base model trained.
2025-07-22 00:05:21,411 - gcsBot - INFO - Dados insuficientes para a situaÃ§Ã£o 0.0. Pulando.
2025-07-22 00:05:21,412 - gcsBot - INFO - Dados insuficientes para a situaÃ§Ã£o 5.0. Pulando.
2025-07-22 00:05:21,412 - gcsBot - INFO - Dados insuficientes para a situaÃ§Ã£o 6.0. Pulando.
2025-07-22 00:05:21,413 - gcsBot - INFO - 
--- Plano Mestre de OtimizaÃ§Ã£o ---
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ   SituaÃ§Ã£o a Treinar â”ƒ   Qtd. Velas â”ƒ
â”£â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‹â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”«
â”ƒ        SITUATION_1.0 â”ƒ        34485 â”ƒ
â”£â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‹â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”«
â”ƒ        SITUATION_2.0 â”ƒ        18707 â”ƒ
â”£â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‹â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”«
â”ƒ        SITUATION_3.0 â”ƒ        16695 â”ƒ
â”£â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‹â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”«
â”ƒ        SITUATION_4.0 â”ƒ        69755 â”ƒ
â”£â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‹â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”«
â”ƒ        SITUATION_7.0 â”ƒ         8711 â”ƒ
â”£â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‹â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”«
â”ƒ        SITUATION_8.0 â”ƒ        53930 â”ƒ
â”£â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‹â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”«
â”ƒ        SITUATION_9.0 â”ƒ        51783 â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”»â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
2025-07-22 00:05:21,413 - gcsBot - INFO - 
==================== Iniciando otimizaÃ§Ã£o para: SITUATION_1.0 (34485 velas) ====================
2025-07-22 00:05:21,415 - gcsBot - ERROR - Um erro crÃ­tico encerrou a aplicaÃ§Ã£o: 
Could not find `optuna-integration` for `lightgbm`.
Please run `pip install optuna-integration[lightgbm]`.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/optuna/integration/lightgbm.py", line 11, in <module>
    import optuna_integration.lightgbm as lgb
ModuleNotFoundError: No module named 'optuna_integration'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/optuna/integration/__init__.py", line 132, in _get_module
    return importlib.import_module("." + module_name, self.__name__)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 999, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/usr/local/lib/python3.12/site-packages/optuna/integration/lightgbm.py", line 13, in <module>
    raise ModuleNotFoundError(_INTEGRATION_IMPORT_ERROR_TEMPLATE.format("lightgbm"))
ModuleNotFoundError: 
Could not find `optuna-integration` for `lightgbm`.
Please run `pip install optuna-integration[lightgbm]`.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/main.py", line 68, in <module>
    main()
  File "/app/main.py", line 36, in main
    optimizer.run()
  File "/app/src/core/optimizer.py", line 311, in run
    self.run_optimization_for_situation(name, data)
  File "/app/src/core/optimizer.py", line 222, in run_optimization_for_situation
    tuner = optuna.integration.LightGBMTuner(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/optuna/integration/__init__.py", line 120, in __getattr__
    module = self._get_module(self._class_to_module[name])
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/optuna/integration/__init__.py", line 134, in _get_module
    raise ModuleNotFoundError(_INTEGRATION_IMPORT_ERROR_TEMPLATE.format(module_name))
ModuleNotFoundError: 
Could not find `optuna-integration` for `lightgbm`.
Please run `pip install optuna-integration[lightgbm]`.
